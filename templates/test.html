{% extends "base.html" %}

{% block content %}
    <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Editor</title>
  </head>
  <script type='text/javascript'>
    function check() {
      var raw = simplemde.value();
      alert(raw);
      document.testform.markdown_raw.value=raw;
      alert(document.testform.markdown_raw.value);
    }
  </script>
  <body>
    <form method='post' class='form' role='form' name='testform'>
      <div class="form-group " style="padding-top:10px">
        <input class="form-control" id="post_title" name="post_title" type="text" value="Title?">
      </div>
      <div class="form-group">
        <input class="form-control" id="markdown" name="post_content" type="textarea" value="">
      </div>
      <div class="form-group" style='display:none'>
        <input class="form-control" id="markdown_raw" name="markdown_raw" type="textarea" value="Origin">
      </div>
      <div>
        <input class='btn btn-default' onclick="check();" id='submit' name='submit' type='submit' value='Save'>
        <input class='btn btn-default' id='publish' name='publish' type='submit' value='Publish'>
      </div>
    </form>
    <script type='text/javascript'>
      var simplemde = new SimpleMDE({ element: document.getElementById('markdown') });
    </script>
  </body>
</html>
{% endblock %}